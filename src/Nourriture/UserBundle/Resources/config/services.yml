#nourriture_user_listener:
#     class: Nourriture\UserBundle\EventListener\UserListener
#     arguments: ["@router"]
#     tags:
#         - { name:kernel.event_listener, event: security.interactive_login, method: setLocale}
#         - { name:kernel.event_listener, event: kernel.request, method: setLocaleForAuthenticatedUser}
services:
     nourriture.profile.form.type:
        class: Nourriture\UserBundle\Form\Type\ProfileFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: nourriture_user_profile}
     nourriture.user_listener:
       class: Nourriture\UserBundle\EventListener\UserListener
       arguments: [@router, @security.context]
       tags:
           - { name: kernel.event_listener, event: security.interactive_login, method: setLocaleForAuthenticatedUser }
           - { name: kernel.event_listener, event: kernel.request, method: setLocaleForUnauthenticatedUser }

